{%- assign occasion_tag_lists = '' -%}
{% if collection.handle contains 'women' %}
  {%- if collection.handle contains 'shirt' or collection.handle contains 'top' or collection.handle contains 'jacket' or collection.handle contains 'dress' or collection.handle contains 'suit' or collection.handle contains 'blazer' -%}
    {%- assign occasion_tag_lists = section.settings.shirts_occation_taglist | split: ',' -%}
  {%- endif -%}
{%- elsif collection.handle contains 'shirts' or collection.handle contains 'suits' or collection.handle contains 'blazers' %}
  {%- assign occasion_tag_lists = section.settings.shirts_occation_taglist | split: ',' -%}
{%- elsif collection.handle contains 'footware' %}
  {%- assign occasion_tag_lists = section.settings.blazer_occation_taglist | split: ',' -%}
{%- endif -%}

{%- if occasion_tag_lists != empty -%}
  <div class="Collapsible Collapsible--padded Collapsible--autoExpand shirt-size">
    <button type="button" class="Collapsible__Button Heading u-h6" data-action="toggle-collapsible" aria-expanded="false">
      Occasion <span class="Collapsible__Plus"></span>
    </button>
    <div class="Collapsible__Inner">
      <div class="Collapsible__Content">
        <ul class="Linklist">
          {%- for tag_name in occasion_tag_lists -%}
          {%- assign tag_value = tag_name | handleize -%}
            <li class="Linklist__Item {% if current_tags contains tag_value %}is-selected{% endif %}">
              <button type="button" class="Link Link--primary Text--subdued {% if current_tags contains tag_value %}is-active{% endif %}" data-tag="{{ tag_value }}" data-action="toggle-tag">
                {{- tag_name -}}
              </button>
            </li>
          {%- endfor -%}
        </ul>
      </div>
    </div>
  </div>
{% endif %}